!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.Fireflies=i():t.Fireflies=i()}(self,(function(){return(()=>{"use strict";var t={d:(i,e)=>{for(var o in e)t.o(e,o)&&!t.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:e[o]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},i={};t.r(i),t.d(i,{Firefly:()=>f,default:()=>g});const e=(t,i)=>Math.floor(Math.random()*(i-t+1)+t),o=(t,i,e,o)=>{const s=e-t,h=o-i;return Math.sqrt(Math.pow(s,2)+Math.pow(h,2))};let s,h,l;const n={x:void 0,y:void 0},r=[],a=t=>{l=requestAnimationFrame(a),h.clearRect(0,0,s.width,s.height);for(let t=0;t<r.length;t++)r[t].fly()},d=t=>{s.width=window.innerWidth,s.height=window.innerHeight},c=t=>{n.x=event.clientX,n.y=event.clientY};class g{static initialize(t=Math.floor((window.innerHeight+window.innerWidth)/100),i=[5,25+Math.floor((window.innerHeight+window.innerWidth)/100)],o=[{fill:"#ffffea",glow:"#ff881b"}],l=!1,n=!0,g=!0,w=!1){this.terminate(),s=document.createElement("canvas"),document.body.appendChild(s),h=s.getContext("2d"),s.width=window.innerWidth,s.height=window.innerHeight,h.globalCompositeOperation="screen";for(let h=0;h<t;h++){let t;t="[object Array]"===Object.prototype.toString.call(i)?e(i[0],i[1]):i;const a=e(t,s.width-t),d=e(t,s.height-t),c=(y=o)[Math.floor(Math.random()*y.length)];r[h]=new f(a,d,t,c,l,n,g,w)}var y;addEventListener("resize",d),addEventListener("mousemove",c),a()}static terminate(){cancelAnimationFrame(l),removeEventListener("resize",d),removeEventListener("mousemove",c);for(let t=0;t<r.length;t++)r.splice(0,r.length);s&&s.remove()}}class f{constructor(t,i,o,s,h,l,n,r){this.x=t,this.y=i,this.radius=o,this.color={fill:s.fill,glow:s.glow},this.velocity={x:Math.random()*Math.PI,y:Math.random()*Math.PI},this.glow={pulse:l,flicker:n,default:void 0,strength:l?e(16,255):191,growing:!0},this.collision=h,this.connect=r}draw(){h.beginPath(),h.arc(this.x,this.y,this.radius,0,2*Math.PI,!1);const t=h.createRadialGradient(this.x,this.y,this.radius/10,this.x,this.y,this.radius);t.addColorStop(1,this.color.glow+"00"),t.addColorStop(.1,this.color.glow+this.glow.strength.toString(16)),t.addColorStop(0,this.color.fill),h.fillStyle=t,h.fill(),h.closePath()}fly(){this.collide(),this.stayWithinView(),o(this.x,this.y,n.x,n.y)<this.radius?(this.x+=.75*Math.cos(this.velocity.x)*-1,this.y+=.75*Math.sin(this.velocity.y)*-1):(this.x+=.75*Math.cos(this.velocity.x),this.y+=.75*Math.sin(this.velocity.y)),this.calcGlow(),this.draw()}stayWithinView(){this.x+this.radius>=s.width||this.x-this.radius<=0?this.velocity.x-=.07:this.velocity.x+=20*Math.random()*Math.PI/180-10*Math.PI/180,this.y+this.radius>=s.height||this.y-this.radius<=0?this.velocity.y-=.07:this.velocity.y+=20*Math.random()*Math.PI/180-10*Math.PI/180}collide(){if(this.collision){const t=r.indexOf(this);for(let i=0;i<r.length;i++)if(r[i]!=r[t]){const t=o(this.x,this.y,r[i].x,r[i].y),e=this.radius+r[i].radius;t<=e&&(this.velocity.x-=.035,this.velocity.y-=.035,this.connect&&(h.save(),h.beginPath(),h.moveTo(this.x,this.y),h.lineTo(r[i].x,r[i].y),h.strokeStyle=`#ffffff${Math.floor(255-238*t/e).toString(16)}`,h.stroke(),h.closePath(),h.restore()))}}}calcGlow(){void 0===this.glow.default&&(this.glow.default=this.glow.strength),this.glow.pulse&&(this.glow.default>=255?this.glow.growing=!1:this.glow.default<=48&&(this.glow.growing=!0),this.glow.growing?(this.glow.default++,this.glow.strength=this.glow.default):(this.glow.default--,this.glow.strength=this.glow.default)),this.glow.flicker&&(Math.random()>.99?this.glow.strength=e(16,255):this.glow.strength=this.glow.default)}}return i.default})()}));